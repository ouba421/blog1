(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28a57591"],{2206:function(t,e,n){},2423:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return m}));var a=n("b775"),r="/articleApi";function c(t){return Object(a["a"])({url:"".concat(r,"/add"),method:"post",data:t})}function i(t){return Object(a["a"])({url:"".concat(r,"/query"),method:"get",params:t})}function o(t){return Object(a["a"])({url:"".concat(r,"/delete"),method:"get",params:t})}function s(t){return Object(a["a"])({url:"".concat(r,"/queryOne"),method:"get",params:t})}function m(t){return Object(a["a"])({url:"".concat(r,"/edit"),method:"post",data:t})}},"3b65":function(t,e,n){"use strict";n("2206")},"3cf7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("div",{staticClass:"detail-content"},[n("div",{staticClass:"article-create"},[t._m(0),n("div",{staticClass:"article-create-name"},[n("span",{staticClass:"name"},[t._v(t._s(t.creatman.username))]),n("span",{staticClass:"time"},[t._v(t._s(t.article.creattime))])])]),n("div",{staticClass:"w-e-text-container"},[n("div",{staticClass:"w-e-text",domProps:{innerHTML:t._s(t.article.content)}})]),n("div",{staticClass:"detail-comment"},[n("div",{staticClass:"detail-comment_img"},[n("img",{attrs:{src:t.headerImg(t.getUserInfo.sex),alt:""}})]),n("el-form",{ref:"commentForm",attrs:{model:t.commentForm,inline:!0}},[n("el-form-item",{attrs:{prop:"comment",rules:{required:!0,message:"评论内容不能为空",trigger:"blur"}}},[n("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入评论内容"},model:{value:t.commentForm.comment,callback:function(e){t.$set(t.commentForm,"comment",e)},expression:"commentForm.comment"}})],1),n("el-form-item",[n("el-button",{attrs:{loading:t.commentLoading,type:"primary"},on:{click:function(e){return t.addComment("commentForm")}}},[t._v("评论")])],1)],1)],1),n("ul",t._l(t.articleList,(function(e){return n("li",{key:e._id,staticClass:"user-comment"},[n("div",{staticClass:"user-comment_left"},[n("img",{attrs:{src:t.headerImg(e.commentman.sex),alt:""}})]),n("div",{staticClass:"user-comment_right"},[n("span",{staticClass:"user-comment_right_name"},[t._v(t._s(e.commentman.username))]),n("span",{staticClass:"user-comment_right_content"},[t._v(t._s(e.content))]),n("span",{staticClass:"user-comment_right_time"},[t._v(t._s(e.commenttime))])])])})),0)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-create-header"},[a("img",{attrs:{src:n("6642"),alt:""}})])}],c=(n("d3b7"),n("5530")),i=n("2f62"),o=n("2423"),s=n("b775"),m="/commentApi";function u(t){return Object(s["a"])({url:"".concat(m,"/add"),method:"post",data:t})}function d(t){return Object(s["a"])({url:"".concat(m,"/query"),method:"get",params:t})}var l={components:{},data:function(){return{article:"",creatman:"",commentForm:{comment:""},articleId:this.$route.query.id,commentLoading:!1,articleList:[]}},computed:Object(c["a"])({},Object(i["b"])(["getUserInfo"])),watch:{},methods:{headerImg:function(t){return n("0"===t?"eb4e":"6642")},queryDetail:function(){var t=this,e={id:this.articleId};Object(o["e"])(e).then((function(e){200===e.code?(t.article=e.data,t.creatman=e.data.creatman):t.$message({message:e.msg,type:"error",duration:3e3})}))},addComment:function(t){var e=this;this.$refs[t].validate((function(n){if(!n)return!1;e.commentLoading=!0;var a={commentman:e.getUserInfo._id,articleid:e.articleId,content:e.commentForm.comment};u(a).then((function(n){200===n.code?e.resetForm(t):e.$message({message:n.msg,type:"error",duration:3e3})})).finally((function(){e.commentLoading=!1}))}))},resetForm:function(t){this.$refs[t].resetFields()},queryCommentF:function(){var t=this,e={id:this.articleId};d(e).then((function(e){200===e.code?t.articleList=e.data:t.$message({message:e.msg,type:"error",duration:3e3})}))}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){this.queryDetail(),this.queryCommentF()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},f=l,p=(n("3b65"),n("b970"),n("2877")),g=Object(p["a"])(f,a,r,!1,null,"2a3510c4",null);e["default"]=g.exports},9155:function(t,e,n){},b970:function(t,e,n){"use strict";n("9155")}}]);
//# sourceMappingURL=chunk-28a57591.62cb1712.js.map