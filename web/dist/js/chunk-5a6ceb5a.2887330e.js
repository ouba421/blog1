(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a6ceb5a"],{"0d89":function(e,t,r){},"37b6":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}));var s=[{label:"男",value:"1"},{label:"女",value:"0"}],a=[{label:"管理员",value:"0"},{label:"一般用户",value:"1"}],n=[{value:"0",label:"HTML5"},{value:"1",label:"Vue"},{value:"2",label:"React"},{value:"3",label:"Angular"}]},"47ce":function(e,t,r){},"79d6":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-user"},[r("div",{staticClass:"add-user-ctn"},[r("h1",{staticClass:"add-user-title"},[e._v("添加用户")]),r("div",{staticClass:"add-user-form"},[r("el-form",{ref:"userForm",staticClass:"demo-ruleForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{maxlength:10},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username","string"===typeof t?t.trim():t)},expression:"userForm.username"}})],1),"/user/add"==e.path?r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{maxlength:10},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password","string"===typeof t?t.trim():t)},expression:"userForm.password"}})],1):e._e(),r("el-form-item",{attrs:{label:"用户类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择用户类型"},model:{value:e.userForm.type,callback:function(t){e.$set(e.userForm,"type",t)},expression:"userForm.type"}},e._l(e.userTypeList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,"sex",t)},expression:"userForm.sex"}},e._l(e.sexList,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),"/user/detail"!==e.path?r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("userForm")}}},[e._v(e._s("/user/add"===e.path?"立即创建":"编辑"))]),r("el-button",{on:{click:function(t){return e.resetForm("userForm")}}},[e._v("重置")])],1):r("el-form-item",[r("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)])])},a=[],n=(r("caad"),r("d3b7"),r("c24f")),o=r("37b6"),i={components:{},data:function(){var e=function(e,t,r){if(""===t)r(new Error("请输入用户名"));else{var s=/^([A-Za-z]|[\u4e00-\u9fa5]|[\s]|[0-9])+$/;s.test(t)?r():r(new Error("只能输入中英文或数字"))}},t=function(e,t,r){if(""===t)r(new Error("请输入密码"));else{var s=/^([A-Za-z]|[0-9])+$/;s.test(t)?r():r(new Error("只能输入数字和英文"))}};return{loading:!1,path:this.$route.path,userForm:{username:"",password:"",type:"",sex:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"change"},{validator:e,trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{validator:t,trigger:"change"}],type:[{required:!0,message:"请选择用户类型",trigger:"change"}],sex:[{required:!0,message:"请选择用户性别",trigger:"change"}]},userTypeList:o["c"],sexList:o["b"]}},computed:{},watch:{},methods:{addUserF:function(){var e=this;this.loading=!0,Object(n["a"])(this.userForm).then((function(t){200===t.code?e.$confirm("用户创建成功","提示",{confirmButtonText:"确定",type:"success"}).finally((function(){e.$router.go(-1)})):e.$message({message:t.msg,type:"error",duration:3e3})})).finally((function(){e.loading=!1}))},editUserF:function(){var e=this;this.loading=!0,this.userForm.id=this.userForm._id,delete this.userForm._id,Object(n["c"])(this.userForm).then((function(t){200===t.code?e.$confirm("用户编辑成功","提示",{confirmButtonText:"确定",type:"success"}).finally((function(){e.$router.go(-1)})):e.$message({message:t.msg,type:"error",duration:3e3})})).finally((function(){e.loading=!1}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;"/user/add"===t.path?t.addUserF():t.editUserF()}))},resetForm:function(e){this.$refs[e].resetFields()},queryDetail:function(){var e=this,t={id:this.$route.query.id};Object(n["f"])(t).then((function(t){200===t.code?e.userForm=t.data:e.$message({message:t.msg,type:"error",duration:3e3})}))},init:function(){["/user/detail","/user/edit"].includes(this.path)&&this.queryDetail()},cancel:function(){this.$router.go(-1)}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){this.init()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},u=i,l=(r("a095"),r("8452"),r("2877")),c=Object(l["a"])(u,s,a,!1,null,"4a986614",null);t["default"]=c.exports},8452:function(e,t,r){"use strict";r("47ce")},a095:function(e,t,r){"use strict";r("0d89")},caad:function(e,t,r){"use strict";var s=r("23e7"),a=r("4d64").includes,n=r("44d2"),o=r("ae40"),i=o("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!i},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-5a6ceb5a.2887330e.js.map